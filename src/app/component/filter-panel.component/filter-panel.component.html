<div class="filter-card" [formGroup]="filterForm">
  <div class="all-filters">
    <div class="filter-card__header">
      <span class="filter-card__title">פילטור</span>
    </div>

    <!-- height -->
    <div class="filter-card__row">
      <div class="field">
        <label for="height">גובה</label>
        <input id="height" type="number" formControlName="height" placeholder="בחירה" />
      </div>
    </div>

    <!-- type -->
    <div class="filter-card__row">
      <div class="field">
        <label for="type">סוג</label>
        <select id="type" formControlName="type">
          <option value="">בחירה</option>
          @for (opt of typeOptions; track opt.name) {
            <option [value]="opt.value">{{ opt.name }}</option>
          }
        </select>
      </div>
    </div>

    <!-- group -->
    <div class="filter-card__row">
      <div class="field">
        <label for="group">קבוצה</label>
        <select id="group" formControlName="group">
          <option value="">בחירה</option>
          @for (opt of groupOptions; track opt.name) {
            <option [value]="opt.value">{{ opt.name }}</option>
          }
        </select>
      </div>
    </div>

    <!-- color -->
    <div class="filter-card__row">
      <div class="field">
        <label>צבע</label>

        <div class="color-picker">
          @for (c of pokemonColors; track c.value) {
            <div
              class="color-chip"
              [class.selected]="filterForm.get('color')?.value === c.value"
              (click)="onColorSelect(c.value)"
            >
              <span
                class="color-dot"
                [ngStyle]="{ 'background-color': getColorHex(c.value) }"
              ></span>
              <span class="label">{{ c.label }}</span>
            </div>
          }

          @if (filterForm.get('color')?.value) {
            <div class="color-chip clear" (click)="onColorSelect(null)">
              ✕ איפוס צבע
            </div>
          }
        </div>
      </div>
    </div>
  </div>

  <hr class="line" />

  <!-- buttons -->
  <div class="all-buttons">
    <div class="filter-card__actions">
      <button type="button" class="btn btn--primary" (click)="onSubmit()">חיפוש</button>
      <button type="button" class="btn btn--ghost" (click)="onCancel()">ביטול</button>
    </div>
  </div>
</div>
