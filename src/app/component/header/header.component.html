<header class="header">
  <!-- Mobile: hamburger -->
  @if (isMobile()) {
    <button
      type="button"
      class="mobile-toggle"
      aria-label="Open navigation menu"
      [attr.aria-expanded]="isMenuOpen()"
      (click)="toggleMenu()"
    >
      <span class="mobile-toggle__bar"></span>
      <span class="mobile-toggle__bar"></span>
      <span class="mobile-toggle__bar"></span>
    </button>
  }

  <div class="header__logo">
    <a [routerLink]="['home']" [queryParams]="{ page: 1 }">
      <img src="pokedex.png" alt="PokeDex logo" />
    </a>
  </div>

  <!-- Desktop nav (unchanged logic) -->
  @if (!isMobile()) {
    <nav>
      <a
        class="nav-home"
        [routerLink]="['home']"
        [queryParams]="{ page: 1 }"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        Home
      </a>

      <a
        class="nav-favorites"
        [routerLink]="['/favorite-pokemons']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        <span>Favorites</span>

        @if (count > 0) {
          <span class="pokeball-badge">
            <span class="pokeball-badge__count">{{ count }}</span>
          </span>
        }
      </a>
    </nav>
  }

  <!-- Mobile collapsible nav -->
  @if (isMobile()) {
    <div class="mobile-menu" [class.mobile-menu--open]="isMenuOpen()">
      <nav class="mobile-nav">
        <a
          class="mobile-nav__link"
          [routerLink]="['home']"
          [queryParams]="{ page: 1 }"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMenu()"
        >
          Home
        </a>

        <a
          class="mobile-nav__link nav-favorites"
          [routerLink]="['/favorite-pokemons']"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: true }"
          (click)="closeMenu()"
        >
          <span>Favorites</span>

          @if (count > 0) {
            <span class="pokeball-badge">
              <span class="pokeball-badge__count">{{ count }}</span>
            </span>
          }
        </a>
      </nav>
    </div>

    @if (isMenuOpen()) {
      <button
        type="button"
        class="mobile-backdrop"
        aria-label="Close navigation menu"
        (click)="closeMenu()"
      ></button>
    }
  }
</header>
